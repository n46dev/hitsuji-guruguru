<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>hitsuji-guruguru</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/2.1.2/octicons.min.css">
    <style type="text/css">
    @keyframes hitsuji-rotate {
      0% { transform: perspective(2048px) translateZ(-400px) translateY(200px) rotateX(60deg) rotateZ(0deg);}
      100% { transform: perspective(2048px) translateZ(-400px) translateY(200px) rotateX(60deg) rotateZ(360deg); }
    }
    @-webkit-keyframes hitsuji-rotate {
      0% { -webkit-transform: perspective(2048px) translateZ(-400px) translateY(200px) rotateX(60deg) rotateZ(0deg); }
      100% { -webkit-transform: perspective(2048px) translateZ(-400px) translateY(200px) rotateX(60deg) rotateZ(360deg); }
    }
    #hitsuji { 
      display: none;
      animation: hitsuji-rotate 15s linear;
      animation-iteration-count: infinite;
      -webkit-animation: hitsuji-rotate 15s linear;
      -webkit-animation-iteration-count: infinite;
    }
    body {
      background: black;
    }
    #github {
      position: absolute;
      top:   16px;
      right: 16px;
      color: white;
    }
    </style>
  </head>
  <body>
    <a id="github" href="https://github.com/n46dev/hitsuji-guruguru"><span class="mega-octicon octicon-mark-github"></span></a>
    <img id="hitsuji" src="hitsuji.png">
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
    <script type="text/javascript">
    var fit = (function() {
      var sizes = {
        image: {
          width:  1384,
          height: 2048
        },
        window: {
          width: $(window).width(),
          height: $(window).height()
        }
      };
      var scales = [
        sizes.window.width  / sizes.image.width,
        sizes.window.width  / sizes.image.height,
        sizes.window.height / sizes.image.height,
        sizes.window.height / sizes.image.width,
      ];
      var scale = 1.0;
      for (var i = 0; i < scales.length; ++i) {
        scale = Math.min(scale, scales[i]);
      }
      var size = {
        width:  sizes.image.width  * scale / 1.05,
        height: sizes.image.height * scale / 1.05
      };
      var element = $("#hitsuji");
      element.css("display",  "block");
      element.css("position", "absolute");
      element.css("width",  size.width);
      element.css("height", size.height);
      element.css("left", (sizes.window.width  - size.width)  / 2.0);
      element.css("top",  (sizes.window.height - size.height) / 2.0);
    });
    $(window).resize(fit);
    fit();
    </script>
  </body>
</html>